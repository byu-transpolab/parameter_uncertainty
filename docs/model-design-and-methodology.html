<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Model Design and Methodology | thesis.knit</title>
  <meta name="description" content="Evaluating Parameter Uncertainty in Transportation<br />
Demand Models</div>" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Model Design and Methodology | thesis.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Model Design and Methodology | thesis.knit" />
  
  
  

<meta name="author" content="Natalie Mae Gray" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="literature-review.html"/>
<link rel="next" href="sensitivity-analysis-results.html"/>
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A BYU Thesis in Bookdown</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#problem-statement"><i class="fa fa-check"></i><b>1.1</b> Problem Statement</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#objectives"><i class="fa fa-check"></i><b>1.2</b> Objectives</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="literature-review.html"><a href="literature-review.html"><i class="fa fa-check"></i><b>2</b> Literature Review</a>
<ul>
<li class="chapter" data-level="2.1" data-path="literature-review.html"><a href="literature-review.html#overview"><i class="fa fa-check"></i><b>2.1</b> Overview</a></li>
<li class="chapter" data-level="2.2" data-path="literature-review.html"><a href="literature-review.html#types-of-uncertainty"><i class="fa fa-check"></i><b>2.2</b> Types of Uncertainty</a></li>
<li class="chapter" data-level="2.3" data-path="literature-review.html"><a href="literature-review.html#summary"><i class="fa fa-check"></i><b>2.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="model-design-and-methodology.html"><a href="model-design-and-methodology.html"><i class="fa fa-check"></i><b>3</b> Model Design and Methodology</a>
<ul>
<li class="chapter" data-level="3.1" data-path="model-design-and-methodology.html"><a href="model-design-and-methodology.html#overview-1"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="model-design-and-methodology.html"><a href="model-design-and-methodology.html#transportation-demand-model"><i class="fa fa-check"></i><b>3.2</b> Transportation Demand Model</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="model-design-and-methodology.html"><a href="model-design-and-methodology.html#trip-generation"><i class="fa fa-check"></i><b>3.2.1</b> Trip Generation</a></li>
<li class="chapter" data-level="3.2.2" data-path="model-design-and-methodology.html"><a href="model-design-and-methodology.html#trip-distribution"><i class="fa fa-check"></i><b>3.2.2</b> Trip Distribution</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="model-design-and-methodology.html"><a href="model-design-and-methodology.html#mode-choice"><i class="fa fa-check"></i><b>3.3</b> Mode Choice</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="model-design-and-methodology.html"><a href="model-design-and-methodology.html#route-assignment"><i class="fa fa-check"></i><b>3.3.1</b> Route Assignment</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="model-design-and-methodology.html"><a href="model-design-and-methodology.html#parameter-sampling"><i class="fa fa-check"></i><b>3.4</b> Parameter Sampling</a></li>
<li class="chapter" data-level="3.5" data-path="model-design-and-methodology.html"><a href="model-design-and-methodology.html#summary-1"><i class="fa fa-check"></i><b>3.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="sensitivity-analysis-results.html"><a href="sensitivity-analysis-results.html"><i class="fa fa-check"></i><b>4</b> Sensitivity Analysis Results</a>
<ul>
<li class="chapter" data-level="4.1" data-path="sensitivity-analysis-results.html"><a href="sensitivity-analysis-results.html#overview-2"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="sensitivity-analysis-results.html"><a href="sensitivity-analysis-results.html#mode-choice-trips"><i class="fa fa-check"></i><b>4.2</b> Mode Choice Trips</a></li>
<li class="chapter" data-level="4.3" data-path="sensitivity-analysis-results.html"><a href="sensitivity-analysis-results.html#link-volume"><i class="fa fa-check"></i><b>4.3</b> Link Volume</a></li>
<li class="chapter" data-level="4.4" data-path="sensitivity-analysis-results.html"><a href="sensitivity-analysis-results.html#summary-2"><i class="fa fa-check"></i><b>4.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="conclusions.html"><a href="conclusions.html"><i class="fa fa-check"></i><b>5</b> Conclusions</a>
<ul>
<li class="chapter" data-level="5.1" data-path="conclusions.html"><a href="conclusions.html#overview-3"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="conclusions.html"><a href="conclusions.html#limitations-and-further-research"><i class="fa fa-check"></i><b>5.2</b> Limitations and Further Research</a></li>
<li class="chapter" data-level="5.3" data-path="conclusions.html"><a href="conclusions.html#summary-3"><i class="fa fa-check"></i><b>5.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><div class="line-block">Evaluating Parameter Uncertainty in Transportation<br />
Demand Models</div></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="model-design-and-methodology" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Model Design and Methodology<a href="model-design-and-methodology.html#model-design-and-methodology" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="overview-1" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Overview<a href="model-design-and-methodology.html#overview-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section describes the process by which a transportation demand model has been created, and how each of the standard four steps were developed for the purposes of this analysis. It also includes the methods for how uncertainty would be evaluated. Two common methods of parameter sampling are Monte Carlo and Latin hypercube sampling. These methods are described and a decision is made for how to use them to evaluate model uncertainty.</p>
</div>
<div id="transportation-demand-model" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Transportation Demand Model<a href="model-design-and-methodology.html#transportation-demand-model" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To examine the effects of parameter input sensitivity, we developed a trip-based travel model with four steps:</p>
<ol style="list-style-type: decimal">
<li>trip generation,</li>
<li>trip distribution,</li>
<li>mode choice, and</li>
<li>route assignment.</li>
</ol>
<p>These steps were developed from the Roanoke Valley Transportation Planning Organization <a href="https://github.com/xinwangvdot/rvtpo">RVTPO</a> Model. The RVTPO model provides an ideal testing environment for this research because it uses an integrated mode and destination choice framework common in more advanced trip-based models. At the same time, its small size (approximately 215 zones) means the entire model runs in a few minutes allowing for efficient testing of multiple model runs. Each step of the model will be described in detail below.</p>
<div id="trip-generation" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Trip Generation<a href="model-design-and-methodology.html#trip-generation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Trip generation, the first step, determines how many trips are produced in each zone, and how many trips are attracted to each zone. Socioeconomic (SE) data and trip productions were obtained from RVTPO. The SE data included information by TAZ for the total population, number of households, total workers, and workers by employment type. The trip productions are organized by TAZ and trip purpose. The three trip purposes used are Home Based Work (HBW), Home Based Other (HBO), and Non-Home Based (NHB). These trips are held constant. For this analysis these files were extracted from the RVTPO model, and used for the subsequent steps.</p>
</div>
<div id="trip-distribution" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Trip Distribution<a href="model-design-and-methodology.html#trip-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The second step, trip distribution, used distance and travel time skims from RVTPO. Skims are either the time or distance to travel between zone pairs. The skims were simplified to three modes of transportation: auto, non-motorized, and transit. Travel time for auto used the single occupancy vehicle peak time, non-motorized travel time used the distance skim multiplied by a factor of average walking speed (3 mph), and transit time used the walk to bus peak time. These skims are the main input for the next step of the model.</p>
</div>
</div>
<div id="mode-choice" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Mode Choice<a href="model-design-and-methodology.html#mode-choice" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Mode choice, the third step, estimates how many trips from <span class="math inline">\(i\)</span> to <span class="math inline">\(j\)</span> will happen on each available mode <span class="math inline">\(k\)</span>. The mode by which a trip is made is determined by calculated utilities for the three modes. These utilities take inputs from parameter values and the time and distance skims previously described. The mode choice parameters (constants and coefficients) were obtained from the RVTPO model. These values are shown in Table <a href="model-design-and-methodology.html#tab:choicecoeff">3.1</a>.</p>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:choicecoeff">Table 3.1: </span>Choice Model Parameters
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:right;">
HBW
</th>
<th style="text-align:right;">
HBO
</th>
<th style="text-align:right;">
NHB
</th>
</tr>
</thead>
<tbody>
<tr grouplength="4">
<td colspan="5" style="border-bottom: 1px solid;">
<strong>Mode Choice Coefficients</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
In-vehicle travel time (minutes)
</td>
<td style="text-align:left;">
<span class="math inline">\(\beta_{ivtt}\)</span>
</td>
<td style="text-align:right;">
-0.0250
</td>
<td style="text-align:right;">
-0.0150
</td>
<td style="text-align:right;">
-0.0200
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Travel cost
</td>
<td style="text-align:left;">
<span class="math inline">\(\beta_{tc}\)</span>
</td>
<td style="text-align:right;">
-0.0016
</td>
<td style="text-align:right;">
-0.0024
</td>
<td style="text-align:right;">
-0.0025
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Walk distance
</td>
<td style="text-align:left;">
<span class="math inline">\(\beta_{wd}\)</span>
</td>
<td style="text-align:right;">
-0.0625
</td>
<td style="text-align:right;">
-0.0375
</td>
<td style="text-align:right;">
-0.0500
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Auto operating cost (cents/mile)
</td>
<td style="text-align:left;">
<span class="math inline">\(\beta_{ac}\)</span>
</td>
<td style="text-align:right;">
13.6000
</td>
<td style="text-align:right;">
13.6000
</td>
<td style="text-align:right;">
13.6000
</td>
</tr>
<tr grouplength="2">
<td colspan="5" style="border-bottom: 1px solid;">
<strong>Mode Choice Constants</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Transit constant
</td>
<td style="text-align:left;">
<span class="math inline">\(k_{trn}\)</span>
</td>
<td style="text-align:right;">
-0.3903
</td>
<td style="text-align:right;">
-1.9811
</td>
<td style="text-align:right;">
-2.2714
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
NonMotorized constant
</td>
<td style="text-align:left;">
<span class="math inline">\(k_{nmot}\)</span>
</td>
<td style="text-align:right;">
-1.2258
</td>
<td style="text-align:right;">
-0.3834
</td>
<td style="text-align:right;">
-0.8655
</td>
</tr>
<tr grouplength="5">
<td colspan="5" style="border-bottom: 1px solid;">
<strong>Destination Choice Parameters</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Households
</td>
<td style="text-align:left;">
<span class="math inline">\(\gamma_{hh}\)</span>
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
1.1657
</td>
<td style="text-align:right;">
0.5664
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Other + Office
</td>
<td style="text-align:left;">
<span class="math inline">\(\gamma_{oth + off}\)</span>
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0.8064
</td>
<td style="text-align:right;">
0.5626
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Office
</td>
<td style="text-align:left;">
<span class="math inline">\(\gamma_{off}\)</span>
</td>
<td style="text-align:right;">
0.4586
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0.0000
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Other
</td>
<td style="text-align:left;">
<span class="math inline">\(\gamma_{oth}\)</span>
</td>
<td style="text-align:right;">
1.6827
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0.0000
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Retail
</td>
<td style="text-align:left;">
<span class="math inline">\(\gamma_{ret}\)</span>
</td>
<td style="text-align:right;">
0.6087
</td>
<td style="text-align:right;">
2.2551
</td>
<td style="text-align:right;">
5.1190
</td>
</tr>
</tbody>
</table>
<p>The utility equations for the mode choice model are as follows:
<span class="math display" id="eq:driveutil">\[\begin{equation}
U_{auto} = \beta_{ivtt} * X_{auto} + \beta_{tc} * \beta_{ac} * X_{dist}
\tag{3.1}
\end{equation}\]</span> <span class="math display" id="eq:nonmoutil">\[\begin{equation}
U_{nmot} = k_{nmot} + 20 * \beta_{wd}*X_{nmot}
\tag{3.2}
\end{equation}\]</span> <span class="math display" id="eq:transutil">\[\begin{equation}
U_{trn} = k_{trn} + \beta_{ivtt} * X_{trn}
\tag{3.3}
\end{equation}\]</span>
These utilities were exponentiated – if the distance was greater than 2 miles, non-motorized travel was excluded – then added together, and the natural log was taken to get a logsum value for every origin and destination pair, see Equation <a href="model-design-and-methodology.html#eq:mcls">(3.4)</a>.</p>
<p><span class="math display" id="eq:mcls">\[\begin{equation}
MCLS_{ij} = \ln(\sum_{k \in K} e^{U_{ijk}})
\tag{3.4}
\end{equation}\]</span></p>
<p>This logsum value is then used as the primary impedance for a destination choice model. Destination choice estimates travel patterns based on mode choice, trip generators (workers and households), and destination choice parameters. These parameter values are also shown in Table <a href="model-design-and-methodology.html#tab:choicecoeff">3.1</a>.The destination choice utility is the primary impedance (mode choice logsum value) plus the natural log of the size term, where the sized term is calculated as:
<span class="math display" id="eq:dcsizeterm">\[\begin{equation}
A_j = \gamma_{hh} * X_{hh} + \gamma_{off} * X_{off} + \gamma_{ret} * X_{ret} + \gamma_{oth} * X_{oth} + \gamma_{oth+off} * X_{oth+off}
\tag{3.5}
\end{equation}\]</span>
The destination choice utility is then transformed into a destination choice logsum value with Equation <a href="model-design-and-methodology.html#eq:dcls">(3.6)</a>.
<span class="math display" id="eq:dcls">\[\begin{equation}
DCLS = \sum_{j \in J} e^{\ln(A_j) + 1* MCLS_{ijk}}
\tag{3.6}
\end{equation}\]</span></p>
<p>The probability of both the mode choice and destination choice are calculated using the exponentiated utility divided by the corresponding logsum. These probabilities in conjunction with the trip productions can calculate the number of production-attraction (PA) trips between each zone by each mode and purpose. The auto trips are calculated by multiplying the probability of the destination by PA pair, the productions for each origin, and the probability of an auto mode choice by PA pair. This results in PA auto trips. The same process is followed for the other two modes. These PA trips are the input for the final step.</p>
<div id="route-assignment" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Route Assignment<a href="model-design-and-methodology.html#route-assignment" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The final step, route assignment, estimates the traffic flows that will occur on each highway link. This step was ran using Bentley’s CUBE and the RVTPO model. The PA trips that came from the previous model step are converted into origin destination (OD) trips by multiplying the trips by corresponding time of day (TOD) factors. OD trips are calculated for each time period (AM, PM, MD, NT, and Daily). The OD trips, by time period, are then assigned to the highway network by the shortest path by time using free flow speed and with link capacity as a restriction. This results with traffic volumes for each link within the network. The total passenger trips <span class="math inline">\(T\)</span> traveling from zone <span class="math inline">\(i\)</span> to zone <span class="math inline">\(j\)</span> on the highway in a period <span class="math inline">\(t\)</span> is therefore
<span class="math display" id="eq:trips">\[\begin{equation}
T_{ijt} = P_i * \mathcal{P}_{\mathrm{auto}}(\beta, C_{ijt}) * \mathcal{P}_j(\gamma, A_j, MCLS_{ijt}) * \Delta_t
\tag{3.7}
\end{equation}\]</span>
where <span class="math inline">\(P\)</span> is the productions at zone <span class="math inline">\(i\)</span>; <span class="math inline">\(\mathcal{P}_{\mathrm{car}}\)</span> is the car mode choice probability determined by utility parameters <span class="math inline">\(\beta\)</span> and the travel costs <span class="math inline">\(C\)</span> between <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> at time period <span class="math inline">\(t\)</span>; <span class="math inline">\(\mathcal{P}_{j}\)</span> is the destination choice probability of choosing destination <span class="math inline">\(j\)</span> given the utility parameters <span class="math inline">\(\gamma\)</span>, attractions <span class="math inline">\(A\)</span>, and the impedance as the mode choice model logsum <span class="math inline">\(MCLS_{ijt}\)</span>. A time-of-day and direction factor <span class="math inline">\(\Delta\)</span> finalizes the total assigned trips.</p>
</div>
</div>
<div id="parameter-sampling" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Parameter Sampling<a href="model-design-and-methodology.html#parameter-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are two popular methods of value sampling, Monte Carlo simulation and Latin hypercube sampling. Monte Carlo simulation draws independently from multiple distributions, while Latin hypercube sampling makes draws that cover the parameter space more efficiently and can capture the joint distribution between two or more parameter values <span class="citation">(Helton &amp; Davis, 2003)</span>. As a result, Latin hypercube sampling can reduce the number of draws needed to fully re-create the statistical variance in a model, but the amount of reduction is unknown and may not be universal to all problems <span class="citation">(Yang et al., 2013)</span>.</p>
<p>With this four-step model, MC and LHS methods were used to determine the possible combinations of parameter variance. To identify a standard deviation for each parameter, a coefficient of variation was used. A set coefficient of variation of 0.10 was used for the four mode choice coefficients and the destination choice parameters. The mode choice constants were kept the same across all iterations. Literature had identified a coefficient of variation of 0.30, but for this analysis that caused an unrealistic value of time, and thus it was changed to be 0.10 <span class="citation">(Zhao &amp; Kockelman, 2002)</span>. The standard deviation was equal to 0.10 multiplied by the mean, where the mean values in this situation are the base scenario parameters (as identified in Table <a href="model-design-and-methodology.html#tab:choicecoeff">3.1</a>).</p>
<p>The MC random sampling uses the R function of <code>rnorm</code>. LHS uses the <code>lhs</code> package in R. Since this package only chooses variables on a zero to one scale, the values given use a function to put the random sampling on the right scale needed for the given parameter. The full code for both methods can be found in a public <a href="https://github.com/natmaegray/sensitivity_thesis">GitHub repository</a>. 100 and 600 draws of random samples for both methods are generated. With these generated parameters, the mode choice model step was run for every set of input parameters for each purpose. The mean logsum value for each run was determined to compare each continuous draw. This allowed us to see how many iterations of which sampling type would be sufficient to show a full range of possible outcomes.</p>
<p>The parameters generated were compared for both sampling methods. Figure <a href="model-design-and-methodology.html#fig:parameter100">3.1</a> shows the distributions for the HBW parameters when using 100 draws, and Figure <a href="model-design-and-methodology.html#fig:parameter600">3.2</a> shows how that changes when using 600 draws. These distributions show that LHS gives normally distributed parameters with fewer draws than MC sampling. At 100 draws LHS shows a nearly perfect normal distribution, where there are some discrepancies for the MC generated parameters. Without looking at the mode choice results, these Figures show that LHS is likely to estimate the full variance of the results with much fewer draws.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:parameter100"></span>
<img src="thesis_files/figure-html/parameter100-1.png" alt="HBW distributions for input parameters with 100 draws." width="80%" />
<p class="caption">
Figure 3.1: HBW distributions for input parameters with 100 draws.
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:parameter600"></span>
<img src="thesis_files/figure-html/parameter600-1.png" alt="HBW distributions for input parameters with 600 draws." width="80%" />
<p class="caption">
Figure 3.2: HBW distributions for input parameters with 600 draws.
</p>
</div>
<p>To determine if LHS is effective at a reasonable amount of iterations, the standard deviation was calculated for each additional draw. This value shows how much the mean mode choice logsum value for all zones can vary. When the standard deviation for the draws stabilizes, that shows that the amount of generated parameters has captured all of the possible variances of the results. This can be visualized for each purpose. The HBW results for the cumulative standard deviation are shown in <a href="model-design-and-methodology.html#fig:hbwstats">3.3</a>. The results for the other two purposes (HBO and NHB) are in <a href="model-design-and-methodology.html#fig:hbostats">3.4</a> and <a href="model-design-and-methodology.html#fig:nhbstats">3.5</a> respectively.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:hbwstats"></span>
<img src="thesis_files/figure-html/hbwstats-1.png" alt="HBW mean logsum standard variation with 100 and 600 draws." width="80%" />
<p class="caption">
Figure 3.3: HBW mean logsum standard variation with 100 and 600 draws.
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:hbostats"></span>
<img src="thesis_files/figure-html/hbostats-1.png" alt="HBO mean logsum standard variation with 100 and 600 draws." width="80%" />
<p class="caption">
Figure 3.4: HBO mean logsum standard variation with 100 and 600 draws.
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:nhbstats"></span>
<img src="thesis_files/figure-html/nhbstats-1.png" alt="NHB mean logsum standard variation with 100 and 600 draws." width="80%" />
<p class="caption">
Figure 3.5: NHB mean logsum standard variation with 100 and 600 draws.
</p>
</div>
<p>For all three trip purposes, the LHS method had its standard deviation stabilized by 100 draws. The MC method had still not stabilized to the same extent after 600 draws. This shows us that Latin hypercube sampling greatly decreases the iterations needed to approximate random sampling methods. Since LHS captures the possible variance at a small enough amount of iterations, it can be used for large transportation demand models. From these results it was decided to use 100 LHS samples parameters to evaluate uncertainty within each step of the model.</p>
</div>
<div id="summary-1" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Summary<a href="model-design-and-methodology.html#summary-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A standard four-step model was created in R and CUBE to create trips, assign network volumes, and evaluate sampling methodologies. The four step model includes trip generation, trip distribution, mode and destination choice, and trip assignment. This model can be used to quantify and evaluate the uncertainty within the model using 100 draws of Latin hypercube sampling.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="literature-review.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sensitivity-analysis-results.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-methods.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["thesis.pdf", "thesis.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
