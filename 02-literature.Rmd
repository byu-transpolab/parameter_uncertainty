# Literature Review

```{r, include = FALSE}
some_packages <- c("tidyverse", "bookdown", "omxr", "nhts2017", "rgdal", "sf", "ggthemes", "lhs", "foreign", "imputeTS", "targets", "readxl", "knitr", "gridExtra", "ggspatial", "kableExtra")
lapply(some_packages, library, character.only=TRUE)
```

## Overview

Researchers acknowledge that there exists uncertainty in transportation demand models, though few choose to quantify it. This review looks at the types of uncertainty that exists, and research that has been done to evaluate uncertainty. 

## Types of Uncertainty

Uncertainty generally exists from two basic sources: input uncertainty and model uncertainty [@rasouli2012uncertainty]. Input uncertainty includes behavioral and socioeconomic data – for instance, the number of jobs and residents in a zone might be coded incorrectly – as well as parameter estimates including automobile operating costs, gasoline costs, and values of time. Model uncertainty can be further divided into specification error and estimation error. Specification error is a failure to estimate the “true” model. Estimation error, on the other hand, is a failure to estimate the correct values of model constants and parameters, or taking the mean estimated value as a single parameter. Previous research exits to identify and quantify each of these sources of error. An overview of the literature and which source of uncertainty they evaluate can be found in Table \@ref(tab:authors).

@rodier2002uncertain looked at uncertainty in socioeconomic projections (population and employment, household income, and fuel prices) at the county-level for the Sacramento, California region. They wanted to know if the uncertainty in the range of plausible socioeconomic values were a significant source of error in the projection of future travel patterns and vehicle emissions. They identified ranges for population and employment, household income, and fuel price for two scenario years (2005 and 2015). The ranges varied based on the scenario year and the socioeconomic variable. They changed one variable at a time for a total of 19 iterations of the model run for 2005 and 21 iterations for 2015. Their results indicated that the error in projections for household income and fuel prices is not a significant source of uncertainty, but error ranges for population and employment projections are a significant source for changes in travel and emissions.

@zhao2002propagation looked at the propagation of uncertainty through each step of their transportation demand model from variation among inputs and parameters. This analysis used a traditional four-step urban transportation planning process (trip generation, trip attraction, mode split, and trip assignment) on a 25-zone sub-model of the Dallas-Fort Worth metropolitan region. Monte Carlo simulation was used to vary the input and parameter values. These values were all ranged using a coefficient of variation (cov) of 0.30, with the inputs only in the positive direction. The four-step model was ran 100 times with 100 different sets of input and parameter values. The results of these runs showed that uncertainty increased in the first three steps of the model and the final assignment step reduced the compounded uncertainty, although not below the levels of input uncertainty. Uncertainty propagation was found to be significant from changes in inputs and parameters, but the final step nearly stabilizes the uncertainty to the same amount as assumed (0.30 cov assumption with a 0.31 cov in the results of trip assignment).

@clay2005univariate varied three inputs and one parameter to analyze uncertainty of outputs on a fully integrated land use and travel demand model of six counties in the Sacramento, California region. The variales used for analysis were exogenous production, commercial trip generation rates, perceived out-of-pocket costs of travel for single occupant vehicles, and concentration parameter. Exogenous production, commercial trip generation rates, and the concentration parameter were varied by plus or minus 10, 25 and 50%, while the cash cost of driving was varied by plus or minus 50 and 100%. This resulted in 23 model runs, one for each changed variable and one for the base scenario. Their research found that any uncertainty in the inputs resulted in large difference in the VMT output, although this difference was a lower percentage than the uncertainty in the input.

@flyvbjerg2005accurate researched the specification error of various forecasting traffic models. They used the forecast data for a given year and the actual value that was collected for the same year. Their study found that there is a statistical significance in the difference of the estimated and actual values. Rail projects are generally overestimate passenger forecasts by 106%, and half of road projects have a traffic forecast difference of plus or minus 20%. They did not identify where this inaccuracy came from, but they identified that it was important for future research.

@armoogum2009measuring looked at uncertainty within an age-cohort forecasting model for the Paris and Montreal metropolitan regions. The sources of uncertainty analysed were calibration of the model, behavior of future generations, and demographic projections. A jackknife technique was used to estimated confidence intervals for each source of error using multiple years of analysis. They found that the longer the forecasting period was, the larger the uncertainty. Generally the model foretasted within 10-15%, reaching higher percentage ranges for variables with small values or small sample sizes.

@duthie2010highway evaluated uncertainty at a different level. They use a small generic gravity-based land use model with the traditional four steps, using a coefficient of variation of 0.3 from @zhao2002propagation for input and parameters, although using antithetic sampling. The uncertainty was evaluated on the rankings of various transportation improvement projects. They found that there are a few significant differences that arise when changing the input and parameter values that result in different project rankings, and thus neglecting uncertainty can lead to suboptimal network improvement decisions. 

@welde2011planners compared actual and foretasted traffic values for 25 toll and 25 toll free roads in Norway. They evaluated the accuracy of Norwegian transportation planning models over the years. Generally traffic models overestimate traffic. This study found that toll projects, on average, overestimated traffic, but only by an average of 2.5%. Toll free projects, however, underestimated traffic by an average of 19%. They concluded that Norwegian toll projects have been fairly accurate, with a probable cause coming from the scrutiny that planners get when developing a toll project. A similar scrutiny should then also be placed on toll free projects as they are significantly less accurate.

@yang2013sensitivity evaluated a quantitative uncertainty analysis of a combined travel demand model. They looked at input and parameter uncertainty using a coefficient of variation of 0.30. Rather than using a random sampling method for choices they used a systematic framework. Their research found that the coefficient of variation of the outputs are similar to the coefficient of variation of the inputs, and that the effect of parameter uncertainty on output uncertainty is generally higher than that of input uncertainty. This is controversial to the findings of @zhao2002propagation. The authors concluded that improving the accuracy of parameter estimation is more effective that that of improving input estimation as they found that in most steps of the model, the impact of parameter uncertainty was more important that that of input uncertainty.

@manzo2015uncertainty looked at uncertainty on model input and parameters for a four-step transportation demand model in a small Danish town. They used a triangular distribution with LHS to create the range in parameters, and using the information from @zhao2002propagation they also used a coefficient of variation of 0.30 and 100 draws, choosing these values at they had been previously used. Their addition to the research was by examining uncertainty for different levels of congestion. Their research found that there is an impact on the model output from the change in input and parameter uncertainty and requires attention when planning. Also, model output uncertainty was not sensitive to the level of congestion.

@petrik2016measuring evaluated uncertainty in mode shift predictions due to uncertainty from input parameters, socioeconomic data, and alternative specific constants. Their study was based on a high-speed rail project in Portugal as a component of the Trans-European Transport Network. They collected survey data and developed discrete choice models. They created their own parameter values from the collected data, obtaining the mean or "best" value from the surveys and the corresponding t-statistic. With these they used bootstrap re-sampling to obtain 10,000 samples of the parameter values, Monte Carlo sampling to generate 10,000 random samples of socioeconomic inputs using a synthetic population (from collected data), and a triangular distribution for 10,000 samples of mode-specific constants. They found that variance in alternative specific attributes is the major contributor to output uncertainty in comparison to parameter variance or socioeconomic variance. Socioeconomic data had the least contribution to overall output variance, and there was a relatively insignificant mode shift due to variability in parameters.

@petrik2020uncertainty used an activity based microsimulation travel demand model for Singapore to evaluate specification and parameter uncertainty. This model has 22 sub-models and 817 parameters. They determined which of the 817 parameters the sub-models were most sensitive to and applied a full sensitivity analysis of the top 100 of the parameters, preserving correlations. Using the mean parameter value and the standard deviations they had for all of them they used Latin hypercube sampling with 100 draws to look at the outcomes of the change in each parameter value. Different sized samples of the model population were also considered in their research. They found that of the 100 most sensitive parameter vales, the outcome coefficient of variation varied from 3% to 49%. The variance of the parameter variables did not exceed 19%, and thus the results from the parameter uncertainty were higher than the variance in the parameters. They also found that the results of the parameter uncertainty was higher than simulation uncertainty.

```{r authors, echo = FALSE, results = 'axis', fig.cap = "Literature Overview"}
authors_source <- tibble("Reference" = c("@rodier2002uncertain", 
                                         '@zhao2002propagation', 
                                         '@clay2005univariate', 
                                         '@flyvbjerg2005accurate', 
                                         '@armoogum2009measuring', 
                                         '@duthie2010highway', 
                                         '@welde2011planners', 
                                         '@yang2013sensitivity', 
                                         '@manzo2015uncertainty', 
                                         '@petrik2016measuring', 
                                         '@petrik2020uncertainty'),
                         "Uncertainty Source(s) Evaluated" = c("Input Uncertainty", 
                                                               "Input Uncertainty & Estimation Error", 
                                                               "Input Uncertainty & Estimation Error",
                                                               "Specification Error",
                                                               "Specification Error",
                                                               "Input Uncertainty & Estimation Error",
                                                               "Specification Error",
                                                               "Input Uncertainty & Estimation Error",
                                                               "Input Uncertainty & Estimation Error",
                                                               "Input Uncertainty & Estimation Error",
                                                               "Specification Error & Estimation Error"))

kbl(authors_source, caption = "Literature Overview", booktabs = TRUE, format="markdown", longtable = FALSE)
```


## Summary

In a four-step travel demand model, most error research to this point has focused on input uncertainty, rather than model uncertainty [@rasouli2012uncertainty]. Research has also been focused on relatively small models, generally for the sake of computational power. There have also been some conflicting conclusions on how parameter variance impacts output uncertainty. For this study, the estimation error within the model uncertainty is of the most immediate concern.